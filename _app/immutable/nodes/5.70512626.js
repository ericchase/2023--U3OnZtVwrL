import{s as z,n as B,r as X,o as F,t as N,b as A}from"../chunks/scheduler.26069417.js";import{S as Y,i as G,g as v,s as I,h as b,j as E,c as V,f as y,x as J,k as p,a as j,y as h,A as T,z as K,m as O,n as Q,B as W}from"../chunks/index.43a980ca.js";import{e as C}from"../chunks/each.e59479a4.js";import{w as Z}from"../chunks/index.1b0f0f41.js";function R(e,t,s){const u=e.slice();return u[19]=t[s],u}function U(e){let t,s=e[19]+"",u,c,f,i;return{c(){t=v("div"),u=O(s),c=I(),this.h()},l(d){t=b(d,"DIV",{class:!0,role:!0,contenteditable:!0,tabindex:!0});var r=E(t);u=Q(r,s),c=V(r),r.forEach(y),this.h()},h(){p(t,"class","line svelte-1omyu9s"),p(t,"role","textbox"),p(t,"contenteditable",""),p(t,"tabindex","-0")},m(d,r){j(d,t,r),h(t,u),h(t,c),f||(i=[T(t,"pointerdown",e[5]),T(t,"click",te),T(t,"keydown",e[6])],f=!0)},p(d,r){r&8&&s!==(s=d[19]+"")&&W(u,s)},d(d){d&&y(t),f=!1,X(i)}}}function $(e){let t,s,u,c,f,i,d,r,m,k,g,S="<div></div>",w,x,a=C(e[3]),o=[];for(let l=0;l<a.length;l+=1)o[l]=U(R(e,a,l));return{c(){t=v("div"),s=v("br"),u=I(),c=v("div"),f=v("div"),i=v("div");for(let l=0;l<o.length;l+=1)o[l].c();d=I(),r=v("div"),m=v("textarea"),k=I(),g=v("div"),g.innerHTML=S,this.h()},l(l){t=b(l,"DIV",{class:!0});var _=E(t);s=b(_,"BR",{}),u=V(_),c=b(_,"DIV",{class:!0});var n=E(c);f=b(n,"DIV",{class:!0});var D=E(f);i=b(D,"DIV",{class:!0,role:!0});var H=E(i);for(let L=0;L<o.length;L+=1)o[L].l(H);H.forEach(y),D.forEach(y),d=V(n),r=b(n,"DIV",{class:!0});var P=E(r);m=b(P,"TEXTAREA",{class:!0}),E(m).forEach(y),P.forEach(y),n.forEach(y),k=V(_),g=b(_,"DIV",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-1n0xdc3"&&(g.innerHTML=S),_.forEach(y),this.h()},h(){p(i,"class","editor svelte-1omyu9s"),p(i,"role","presentation"),p(f,"class","svelte-1omyu9s"),p(m,"class","styles svelte-1omyu9s"),p(r,"class","svelte-1omyu9s"),p(c,"class","grid gap svelte-1omyu9s"),p(g,"class","transformed"),p(t,"class","col gap fill-w svelte-1omyu9s")},m(l,_){j(l,t,_),h(t,s),h(t,u),h(t,c),h(c,f),h(f,i);for(let n=0;n<o.length;n+=1)o[n]&&o[n].m(i,null);e[7](i),h(c,d),h(c,r),h(r,m),e[8](m),h(t,k),h(t,g),e[9](g),w||(x=[T(window,"pointerup",ae),T(m,"input",e[4]),T(m,"keydown",ee)],w=!0)},p(l,[_]){if(_&104){a=C(l[3]);let n;for(n=0;n<a.length;n+=1){const D=R(l,a,n);o[n]?o[n].p(D,_):(o[n]=U(D),o[n].c(),o[n].m(i,null))}for(;n<o.length;n+=1)o[n].d(1);o.length=a.length}},i:B,o:B,d(l){l&&y(t),K(o,l),e[7](null),e[8](null),e[9](null),w=!1,X(x)}}}function ee(e){if(e.key==="Tab"){e.preventDefault();let t=e.currentTarget.selectionStart,s=e.currentTarget.selectionEnd;e.currentTarget.value=e.currentTarget.value.substring(0,t)+"  "+e.currentTarget.value.substring(s),e.currentTarget.selectionStart=e.currentTarget.selectionEnd=t+2}}function M(e){return e instanceof HTMLElement?(e.focus(),!0):!1}function te(e){e.stopImmediatePropagation()}function q(e){}function ae(e){e.currentTarget.removeEventListener("pointermove",q)}function ne(e,t,s){let u,c,f=Z(""),i;function d(){f.set(i.value)}let r=["aaaaaaaaaaaa","aaaaaaaaaaaa","aaaaaaaaaaaa","aaaaaaaaaaaa"];function m(){r.push(""),s(3,r)}function k(a){a.currentTarget.addEventListener("pointermove",q),a.clientX,a.clientY}function g(a){switch(a.key){default:return;case"Enter":m(),N().then(()=>M(a.currentTarget.nextElementSibling));break;case"ArrowUp":M(a.currentTarget.previousElementSibling);break;case"ArrowDown":M(a.currentTarget.nextElementSibling);break}a.preventDefault()}F(()=>{});function S(a){A[a?"unshift":"push"](()=>{u=a,s(0,u)})}function w(a){A[a?"unshift":"push"](()=>{i=a,s(2,i)})}function x(a){A[a?"unshift":"push"](()=>{c=a,s(1,c)})}return[u,c,i,r,d,k,g,S,w,x]}class oe extends Y{constructor(t){super(),G(this,t,ne,$,z,{})}}export{oe as component};
